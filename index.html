<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sample Site</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <style>
    body { padding-top: 50px; }
  </style>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="jumbotron">
      <h1 id="status">the switch is ---</h1>
      <button id="toggle">SWITCH IT</button>
    </div>
    <div class="jumbotron">
      <div id="liveView" class="webcam">
        <button id="webcamButton" disabled>Enable Webcam</button>
        <video id="webcam" autoplay width="640" height="480"></video>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    let statusUrl="http://127.0.0.1:8081/status";
    fetch(statusUrl).then(response => response.json())
        .then( (result) => {
            console.log('success:', result);
            let statusDiv=document.getElementById('status');
            statusDiv.innerHTML=`the switch is ${result}`;
        })
    .catch(error => console.log('error:', error));

    let toggleUrl="http://127.0.0.1:8081/toggle";
    console.log("whoohas!");
    document.getElementById("toggle").addEventListener("click", () => {
        console.log("clicking!");
        fetch(toggleUrl);
    })
  </script>
  <!-- Import TensorFlow.js library -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs/dist/tf.min.js" type="text/javascript"></script>
  <!-- Load the coco-ssd model to use to recognize things in images -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>
  
  <!-- Import the page's JavaScript to do some stuff -->
  <script src="index.js" defer></script>
</body>
</html>